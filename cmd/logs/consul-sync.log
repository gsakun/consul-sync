{"level":"info","msg":"START DATA SYNC","time":"2020-06-03 17:35:34"}
{"level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed","time":"2020-06-03 17:35:34"}
{"level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-03 17:35:34"}
{"level":"info","msg":"sync machineinfo success","time":"2020-06-03 17:35:34"}
{"level":"info","msg":"START DATA SYNC","time":"2020-06-03 17:38:04"}
{"level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed,errinfo Unexpected response code: 400 (Missing service name)","time":"2020-06-03 17:38:04"}
{"level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-03 17:38:04"}
{"level":"info","msg":"sync machineinfo success","time":"2020-06-03 17:38:04"}
{"level":"info","msg":"START DATA SYNC","time":"2020-06-03 17:38:42"}
{"level":"error","msg":"Registry service \u0026{ test1-172.16.10.10  [role=test test=test] 9100 172.16.10.10 map[] false map[] \u003cnil\u003e \u003cnil\u003e [] \u003cnil\u003e \u003cnil\u003e } failed,errinfo Unexpected response code: 400 (Missing service name)","time":"2020-06-03 17:38:42"}
{"level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-03 17:38:42"}
{"level":"info","msg":"sync machineinfo success","time":"2020-06-03 17:38:42"}
{"level":"info","msg":"START DATA SYNC","time":"2020-06-03 18:12:06"}
{"level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed","time":"2020-06-03 18:12:06"}
{"level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-03 18:12:06"}
{"level":"info","msg":"sync machineinfo success","time":"2020-06-03 18:12:06"}
{"level":"info","msg":"START DATA SYNC","time":"2020-06-03 18:17:51"}
{"level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed","time":"2020-06-03 18:17:51"}
{"level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-03 18:17:51"}
{"level":"info","msg":"sync machineinfo success","time":"2020-06-03 18:17:51"}
{"level":"info","msg":"START DATA SYNC","time":"2020-06-03 18:18:44"}
{"level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed","time":"2020-06-03 18:18:44"}
{"level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-03 18:18:44"}
{"level":"info","msg":"sync machineinfo success","time":"2020-06-03 18:18:44"}
{"level":"info","msg":"START DATA SYNC","time":"2020-06-03 18:19:53"}
{"level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed","time":"2020-06-03 18:19:53"}
{"level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-03 18:19:53"}
{"level":"info","msg":"sync machineinfo success","time":"2020-06-03 18:19:53"}
{"level":"info","msg":"START DATA SYNC","time":"2020-06-03 18:21:11"}
{"level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed","time":"2020-06-03 18:21:11"}
{"level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-03 18:21:11"}
{"level":"info","msg":"sync machineinfo success","time":"2020-06-03 18:21:11"}
{"level":"info","msg":"START DATA SYNC","time":"2020-06-03 18:22:57"}
{"level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed","time":"2020-06-03 18:22:57"}
{"level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-03 18:22:57"}
{"level":"info","msg":"sync machineinfo success","time":"2020-06-03 18:22:57"}
{"level":"info","msg":"START DATA SYNC","time":"2020-06-03 18:24:56"}
{"level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed","time":"2020-06-03 18:24:56"}
{"level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-03 18:24:56"}
{"level":"info","msg":"sync machineinfo success","time":"2020-06-03 18:24:56"}
{"level":"info","msg":"START DATA SYNC","time":"2020-06-03 18:26:05"}
{"level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed","time":"2020-06-03 18:26:05"}
{"level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-03 18:26:05"}
{"level":"info","msg":"sync machineinfo success","time":"2020-06-03 18:26:05"}
{"level":"info","msg":"START DATA SYNC","time":"2020-06-03 18:27:24"}
{"level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed","time":"2020-06-03 18:27:24"}
{"level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-03 18:27:24"}
{"level":"info","msg":"sync machineinfo success","time":"2020-06-03 18:27:24"}
{"level":"info","msg":"START DATA SYNC","time":"2020-06-03 18:27:43"}
{"level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed","time":"2020-06-03 18:27:43"}
{"level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-03 18:27:43"}
{"level":"info","msg":"sync machineinfo success","time":"2020-06-03 18:27:43"}
{"level":"info","msg":"START DATA SYNC","time":"2020-06-03 18:28:32"}
{"level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed","time":"2020-06-03 18:28:32"}
{"level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-03 18:28:32"}
{"level":"info","msg":"sync machineinfo success","time":"2020-06-03 18:28:32"}
{"level":"info","msg":"START SYNC","time":"2020-06-03 18:29:00"}
{"level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed","time":"2020-06-03 18:29:00"}
{"level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-03 18:29:00"}
{"level":"info","msg":"sync machineinfo success","time":"2020-06-03 18:29:00"}
{"level":"info","msg":"START SYNC","time":"2020-06-03 18:30:05"}
{"level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed","time":"2020-06-03 18:30:05"}
{"level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-03 18:30:05"}
{"level":"info","msg":"sync machineinfo success","time":"2020-06-03 18:30:05"}
{"level":"info","msg":"START SYNC","time":"2020-06-03 18:30:41"}
{"level":"info","msg":"Init client success","time":"2020-06-03 18:30:41"}
{"level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed","time":"2020-06-03 18:30:42"}
{"level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-03 18:30:42"}
{"level":"info","msg":"sync machineinfo success","time":"2020-06-03 18:30:42"}
{"level":"info","msg":"START SYNC","time":"2020-06-03 18:31:21"}
{"level":"info","msg":"Init client success","time":"2020-06-03 18:31:21"}
{"level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed","time":"2020-06-03 18:31:21"}
{"level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-03 18:31:21"}
{"level":"info","msg":"sync machineinfo success","time":"2020-06-03 18:31:21"}
{"level":"info","msg":"START SYNC","time":"2020-06-03 18:32:31"}
{"level":"info","msg":"Init client success","time":"2020-06-03 18:32:31"}
{"level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed","time":"2020-06-03 18:32:31"}
{"level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-03 18:32:31"}
{"level":"info","msg":"sync machineinfo success","time":"2020-06-03 18:32:31"}
{"level":"info","msg":"START SYNC","time":"2020-06-04 09:50:15"}
{"level":"info","msg":"Init client success","time":"2020-06-04 09:50:15"}
{"level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed","time":"2020-06-04 09:50:15"}
{"level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-04 09:50:15"}
{"level":"info","msg":"sync machineinfo success","time":"2020-06-04 09:50:15"}
{"level":"info","msg":"START SYNC","time":"2020-06-04 09:51:35"}
{"level":"info","msg":"Init client success","time":"2020-06-04 09:51:35"}
{"level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed","time":"2020-06-04 09:51:35"}
{"level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-04 09:51:35"}
{"level":"info","msg":"sync machineinfo success","time":"2020-06-04 09:51:35"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:88","func":"main.main.func1","level":"info","msg":"START SYNC","time":"2020-06-04 09:56:10"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:93","func":"main.main.func1","level":"info","msg":"Init client success","time":"2020-06-04 09:56:10"}
{"file":"D:/mygo/pkg/mod/github.com/gsakun/consul-sync@v0.0.0-20200603075330-35410ac0e13c/consul/consul.go:48","func":"github.com/gsakun/consul-sync/consul.ConsulRegister","level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed","time":"2020-06-04 09:56:11"}
{"file":"D:/mygo/pkg/mod/github.com/gsakun/consul-sync@v0.0.0-20200603075330-35410ac0e13c/handler/handler.go:37","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-04 09:56:11"}
{"file":"D:/mygo/pkg/mod/github.com/gsakun/consul-sync@v0.0.0-20200603075330-35410ac0e13c/handler/handler.go:63","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"sync machineinfo success","time":"2020-06-04 09:56:11"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:88","func":"main.main.func1","level":"info","msg":"START SYNC","time":"2020-06-04 10:05:06"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:93","func":"main.main.func1","level":"info","msg":"Init client success","time":"2020-06-04 10:05:06"}
{"file":"D:/mygo/pkg/mod/github.com/gsakun/consul-sync@v0.0.0-20200603075330-35410ac0e13c/consul/consul.go:48","func":"github.com/gsakun/consul-sync/consul.ConsulRegister","level":"error","msg":"Registry service \u0026{test1-172.16.10.10  9100 map[role:test test:test] 172.16.10.10} failed","time":"2020-06-04 10:05:06"}
{"file":"D:/mygo/pkg/mod/github.com/gsakun/consul-sync@v0.0.0-20200603075330-35410ac0e13c/handler/handler.go:37","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"error","msg":"Register Unexpected response code: 400 (Missing service name) failed errinfo %!v(MISSING)","time":"2020-06-04 10:05:06"}
{"file":"D:/mygo/pkg/mod/github.com/gsakun/consul-sync@v0.0.0-20200603075330-35410ac0e13c/handler/handler.go:63","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"sync machineinfo success","time":"2020-06-04 10:05:06"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:88","func":"main.main.func1","level":"info","msg":"START SYNC","time":"2020-06-04 10:09:54"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:93","func":"main.main.func1","level":"info","msg":"Init client success","time":"2020-06-04 10:09:54"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:18","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"select hostname, ip, labels,monitor from machine where monitor != 1","time":"2020-06-04 10:09:54"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:37","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"test1-172.16.10.10-{\"test\":\"test\",\"role\":\"test\"}-0","time":"2020-06-04 10:09:54"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:39","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"Start register %s-%s test1 172.16.10.10","time":"2020-06-04 10:09:54"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:87","func":"github.com/gsakun/consul-sync/handler.register","level":"info","msg":"{602076f27a97cc337769c007d348d1ff test1-172.16.10.10 9100 map[role:test test:test] 172.16.10.10}","time":"2020-06-04 10:09:54"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/consul/consul.go:46","func":"github.com/gsakun/consul-sync/consul.ConsulRegister","level":"info","msg":"\u0026{ 602076f27a97cc337769c007d348d1ff test1-172.16.10.10 [test=test role=test] 9100 172.16.10.10 map[] false map[] \u003cnil\u003e \u003cnil\u003e [] \u003cnil\u003e \u003cnil\u003e }","time":"2020-06-04 10:09:54"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:68","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"sync machineinfo success","time":"2020-06-04 10:09:54"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:88","func":"main.main.func1","level":"info","msg":"START SYNC","time":"2020-06-04 10:11:31"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:93","func":"main.main.func1","level":"info","msg":"Init client success","time":"2020-06-04 10:11:31"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:18","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"select hostname, ip, labels,monitor from machine where monitor != 1","time":"2020-06-04 10:11:31"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:37","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"test1-172.16.10.10-{\"test\":\"test\",\"role\":\"test\",\"date\":1}-2","time":"2020-06-04 10:11:31"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/consul/consul.go:70","func":"github.com/gsakun/consul-sync/consul.ConsulFindServer","level":"error","msg":"Query specified service 602076f27a97cc337769c007d348d1ff error : Unexpected response code: 404 (unknown proxy service ID: 602076f27a97cc337769c007d348d1ff) ","time":"2020-06-04 10:11:32"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:87","func":"github.com/gsakun/consul-sync/handler.register","level":"info","msg":"{602076f27a97cc337769c007d348d1ff test1-172.16.10.10 9100 map[date:1 role:test test:test] 172.16.10.10}","time":"2020-06-04 10:11:32"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/consul/consul.go:46","func":"github.com/gsakun/consul-sync/consul.ConsulRegister","level":"info","msg":"\u0026{ 602076f27a97cc337769c007d348d1ff test1-172.16.10.10 [test=test role=test date=%!s(float64=1)] 9100 172.16.10.10 map[] false map[] \u003cnil\u003e \u003cnil\u003e [] \u003cnil\u003e \u003cnil\u003e }","time":"2020-06-04 10:11:32"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:68","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"sync machineinfo success","time":"2020-06-04 10:11:32"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:88","func":"main.main.func1","level":"info","msg":"START SYNC","time":"2020-06-04 10:13:22"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:93","func":"main.main.func1","level":"info","msg":"Init client success","time":"2020-06-04 10:13:22"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:18","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"select hostname, ip, labels,monitor from machine where monitor != 1","time":"2020-06-04 10:13:22"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:68","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"sync machineinfo success","time":"2020-06-04 10:13:22"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:88","func":"main.main.func1","level":"info","msg":"START SYNC","time":"2020-06-04 10:16:14"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:93","func":"main.main.func1","level":"info","msg":"Init client success","time":"2020-06-04 10:16:14"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:18","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"select hostname, ip, labels,monitor from machine where monitor != 1","time":"2020-06-04 10:16:14"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:37","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"test1-172.16.10.10-{\"test\":\"test\",\"role\":\"test\",\"date\":1}-3","time":"2020-06-04 10:16:14"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:75","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"sync machineinfo success","time":"2020-06-04 10:16:14"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:88","func":"main.main.func1","level":"info","msg":"START SYNC","time":"2020-06-04 10:17:12"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:93","func":"main.main.func1","level":"info","msg":"Init client success","time":"2020-06-04 10:17:12"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:18","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"select hostname, ip, labels,monitor from machine where monitor != 1","time":"2020-06-04 10:17:12"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:37","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"test1-172.16.10.10-{\"test\":\"test\",\"role\":\"test\",\"date\":1}-3","time":"2020-06-04 10:17:12"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:75","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"sync machineinfo success","time":"2020-06-04 10:17:13"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:88","func":"main.main.func1","level":"info","msg":"START SYNC","time":"2020-06-04 10:18:37"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:93","func":"main.main.func1","level":"info","msg":"Init client success","time":"2020-06-04 10:18:37"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:18","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"select hostname, ip, labels,monitor from machine where monitor != 1","time":"2020-06-04 10:18:37"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:37","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"test1-172.16.10.10-{\"test\":\"test\",\"role\":\"test\",\"date\":1}-3","time":"2020-06-04 10:18:37"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:68","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"Service id is 602076f27a97cc337769c007d348d1ff","time":"2020-06-04 10:18:37"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:76","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"sync machineinfo success","time":"2020-06-04 10:18:37"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:88","func":"main.main.func1","level":"info","msg":"START SYNC","time":"2020-06-04 12:28:17"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:93","func":"main.main.func1","level":"info","msg":"Init client success","time":"2020-06-04 12:28:17"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:19","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"select hostname, ip, labels,monitor from machine where monitor != 1","time":"2020-06-04 12:28:17"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:38","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"test1-172.16.10.10-{\"test\":\"test\",\"role\":\"test\",\"port\":9200}-0","time":"2020-06-04 12:28:17"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:40","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"Start register %s-%s test1 172.16.10.10","time":"2020-06-04 12:28:17"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:88","func":"main.main.func1","level":"info","msg":"START SYNC","time":"2020-06-04 12:29:13"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:93","func":"main.main.func1","level":"info","msg":"Init client success","time":"2020-06-04 12:29:13"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:19","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"select hostname, ip, labels,monitor from machine where monitor != 1","time":"2020-06-04 12:29:13"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:38","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"test1-172.16.10.10-{\"test\":\"test\",\"role\":\"test\",\"port\":9200}-0","time":"2020-06-04 12:29:13"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:40","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"Start register %s-%s test1 172.16.10.10","time":"2020-06-04 12:29:13"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:88","func":"main.main.func1","level":"info","msg":"START SYNC","time":"2020-06-04 14:26:49"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:93","func":"main.main.func1","level":"info","msg":"Init client success","time":"2020-06-04 14:26:49"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:19","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"select hostname, ip, labels,monitor from machine where monitor != 1","time":"2020-06-04 14:26:49"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:38","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"test1-172.16.10.10-{\"test\":\"test\",\"role\":\"test\",\"port\":9200}-0","time":"2020-06-04 14:26:49"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:40","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"Start register %s-%s test1 172.16.10.10","time":"2020-06-04 14:26:49"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:88","func":"main.main.func1","level":"info","msg":"START SYNC","time":"2020-06-04 14:27:12"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:93","func":"main.main.func1","level":"info","msg":"Init client success","time":"2020-06-04 14:27:12"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:19","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"select hostname, ip, labels,monitor from machine where monitor != 1","time":"2020-06-04 14:27:12"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:38","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"test1-172.16.10.10-{\"test\":\"test\",\"role\":\"test\",\"port\":9200}-0","time":"2020-06-04 14:27:12"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:40","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"Start register %s-%s test1 172.16.10.10","time":"2020-06-04 14:27:12"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:117","func":"github.com/gsakun/consul-sync/handler.register","level":"info","msg":"{602076f27a97cc337769c007d348d1ff test1-172.16.10.10 9200 map[port:9200 role:test test:test] 172.16.10.10}","time":"2020-06-04 14:27:12"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/consul/consul.go:46","func":"github.com/gsakun/consul-sync/consul.ConsulRegister","level":"info","msg":"\u0026{ 602076f27a97cc337769c007d348d1ff test1-172.16.10.10 [port=%!s(float64=9200) test=test role=test] 9200 172.16.10.10 map[] false map[] \u003cnil\u003e \u003cnil\u003e [] \u003cnil\u003e \u003cnil\u003e }","time":"2020-06-04 14:27:12"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:77","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"sync machineinfo success","time":"2020-06-04 14:27:13"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:88","func":"main.main.func1","level":"info","msg":"START SYNC","time":"2020-06-04 14:41:30"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:93","func":"main.main.func1","level":"info","msg":"Init client success","time":"2020-06-04 14:41:30"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:19","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"select hostname, ip, labels,monitor from machine where monitor != 1","time":"2020-06-04 14:41:30"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:38","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"test1-172.16.10.10-{\"test\":\"test\",\"role\":\"test\",\"port\":9200}-3","time":"2020-06-04 14:41:30"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:69","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"Service id is 602076f27a97cc337769c007d348d1ff","time":"2020-06-04 14:41:30"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:77","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"sync machineinfo success","time":"2020-06-04 14:41:30"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:88","func":"main.main.func1","level":"info","msg":"START SYNC","time":"2020-06-04 14:42:06"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:93","func":"main.main.func1","level":"info","msg":"Init client success","time":"2020-06-04 14:42:06"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:19","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"select hostname, ip, labels,monitor from machine where monitor != 1","time":"2020-06-04 14:42:06"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:38","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"test1-172.16.10.10-{\"test\":\"test\",\"role\":\"test\",\"port\":9200}-0","time":"2020-06-04 14:42:06"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:40","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"Start register test1-172.16.10.10","time":"2020-06-04 14:42:06"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:117","func":"github.com/gsakun/consul-sync/handler.register","level":"info","msg":"{602076f27a97cc337769c007d348d1ff test1-172.16.10.10 9200 map[role:test test:test] 172.16.10.10}","time":"2020-06-04 14:42:06"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/consul/consul.go:46","func":"github.com/gsakun/consul-sync/consul.ConsulRegister","level":"info","msg":"\u0026{ 602076f27a97cc337769c007d348d1ff test1-172.16.10.10 [role=test test=test] 9200 172.16.10.10 map[] false map[] \u003cnil\u003e \u003cnil\u003e [] \u003cnil\u003e \u003cnil\u003e }","time":"2020-06-04 14:42:06"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:77","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"sync machineinfo success","time":"2020-06-04 14:42:06"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:88","func":"main.main.func1","level":"info","msg":"START SYNC","time":"2020-06-04 14:42:54"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:93","func":"main.main.func1","level":"info","msg":"Init client success","time":"2020-06-04 14:42:54"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:19","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"select hostname, ip, labels,monitor from machine where monitor != 1","time":"2020-06-04 14:42:54"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:38","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"test1-172.16.10.10-{\"test\":\"test\",\"role\":\"test\",\"port\":\"9200\"}-3","time":"2020-06-04 14:42:54"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:69","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"Service id is 602076f27a97cc337769c007d348d1ff","time":"2020-06-04 14:42:54"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:77","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"sync machineinfo success","time":"2020-06-04 14:42:54"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:88","func":"main.main.func1","level":"info","msg":"START SYNC","time":"2020-06-04 14:44:12"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:93","func":"main.main.func1","level":"info","msg":"Init client success","time":"2020-06-04 14:44:12"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:19","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"select hostname, ip, labels,monitor from machine where monitor != 1","time":"2020-06-04 14:44:12"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:38","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"test1-172.16.10.10-{\"test\":\"test\",\"role\":\"test\",\"port\":\"9200\"}-2","time":"2020-06-04 14:44:12"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/consul/consul.go:70","func":"github.com/gsakun/consul-sync/consul.ConsulFindServer","level":"error","msg":"Query specified service 602076f27a97cc337769c007d348d1ff error : Unexpected response code: 404 (unknown proxy service ID: 602076f27a97cc337769c007d348d1ff) ","time":"2020-06-04 14:44:12"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:117","func":"github.com/gsakun/consul-sync/handler.register","level":"info","msg":"{602076f27a97cc337769c007d348d1ff test1-172.16.10.10 9200 map[port:9200 role:test test:test] 172.16.10.10}","time":"2020-06-04 14:44:12"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/consul/consul.go:46","func":"github.com/gsakun/consul-sync/consul.ConsulRegister","level":"info","msg":"\u0026{ 602076f27a97cc337769c007d348d1ff test1-172.16.10.10 [port=9200 test=test role=test] 9200 172.16.10.10 map[] false map[] \u003cnil\u003e \u003cnil\u003e [] \u003cnil\u003e \u003cnil\u003e }","time":"2020-06-04 14:44:12"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:77","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"sync machineinfo success","time":"2020-06-04 14:44:12"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:88","func":"main.main.func1","level":"info","msg":"START SYNC","time":"2020-06-04 14:53:18"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:93","func":"main.main.func1","level":"info","msg":"Init client success","time":"2020-06-04 14:53:18"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:19","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"select hostname, ip, labels,monitor from machine where monitor != 1 and monitor !=4","time":"2020-06-04 14:53:18"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:38","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"test1-172.16.10.10-{\"test\":\"test\",\"role\":\"test\",\"port\":\"9200\"}-3","time":"2020-06-04 14:53:18"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:69","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"Service id is 602076f27a97cc337769c007d348d1ff","time":"2020-06-04 14:53:18"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:89","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"sync machineinfo success","time":"2020-06-04 14:53:18"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:88","func":"main.main.func1","level":"info","msg":"START SYNC","time":"2020-06-04 14:57:26"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:93","func":"main.main.func1","level":"info","msg":"Init client success","time":"2020-06-04 14:57:26"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:67","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"Service id is 602076f27a97cc337769c007d348d1ff","time":"2020-06-04 14:57:26"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:87","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"sync machineinfo success","time":"2020-06-04 14:57:26"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:88","func":"main.main.func1","level":"info","msg":"START SYNC","time":"2020-06-04 14:58:41"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:93","func":"main.main.func1","level":"info","msg":"Init client success","time":"2020-06-04 14:58:41"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:67","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"Service id is 602076f27a97cc337769c007d348d1ff,Deregister it","time":"2020-06-04 14:58:41"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:87","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"sync machineinfo success","time":"2020-06-04 14:58:41"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:88","func":"main.main.func1","level":"info","msg":"START SYNC","time":"2020-06-04 15:06:51"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:93","func":"main.main.func1","level":"info","msg":"Init client success","time":"2020-06-04 15:06:51"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:67","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"Service id is 602076f27a97cc337769c007d348d1ff,Deregister it","time":"2020-06-04 15:06:51"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:87","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"sync machineinfo success","time":"2020-06-04 15:06:51"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:88","func":"main.main.func1","level":"info","msg":"START SYNC","time":"2020-06-04 15:07:58"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/cmd/main.go:93","func":"main.main.func1","level":"info","msg":"Init client success","time":"2020-06-04 15:07:58"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:67","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"Service id is 602076f27a97cc337769c007d348d1ff,Deregister it","time":"2020-06-04 15:07:58"}
{"file":"D:/mygo/src/github.com/gsakun/consul-sync/handler/handler.go:87","func":"github.com/gsakun/consul-sync/handler.Syncdata","level":"info","msg":"sync machineinfo success","time":"2020-06-04 15:07:58"}
